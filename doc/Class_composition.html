

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Class composition &mdash; decipher 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="decipher 0.1 documentation" href="../index.html"/>
        <link rel="next" title="Header Files" href="Headers.html"/>
        <link rel="prev" title="Linked Lists" href="Linked_lists.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> decipher</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Abstract_Data_Types.html">Abstract Data Types (ADT)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Abstract_Data_Types.html#data-structure">1) Data Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="Abstract_Data_Types.html#algorithm">2) Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="Abstract_Data_Types.html#interface">3) Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Constructors.html">Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Destructors.html">Destructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="Pointers.html">Pointers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Pointers.html#void-pointers">Void Pointers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pointers.html#fuction-pointers">Fuction Pointers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Linked_lists.html">Linked Lists</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Linked_lists.html#doubly-linked-lists">Doubly-linked Lists</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Class composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="Headers.html">Header Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Copy_Constructors.html">Copy Constructors and Assignment Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="Queues.html">Queues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Queues.html#algorithm">Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="Queues.html#data-structures">Data structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="Queues.html#interface">Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Stacks.html">Stacks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Stacks.html#infix-and-postfix-expressions">Infix and Postfix expressions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Inheritance.html">Inheritance</a></li>
<li class="toctree-l1"><a class="reference internal" href="Polymorphism.html">Polymorphism</a></li>
<li class="toctree-l1"><a class="reference internal" href="Virtual_fucntions.html">Virtual functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Virtual_fucntions.html#character">Character()</a></li>
<li class="toctree-l2"><a class="reference internal" href="Virtual_fucntions.html#name">name()</a></li>
<li class="toctree-l2"><a class="reference internal" href="Virtual_fucntions.html#printweapon">printWeapon()</a></li>
<li class="toctree-l2"><a class="reference internal" href="Virtual_fucntions.html#attackaction">attackAction()</a></li>
<li class="toctree-l2"><a class="reference internal" href="Virtual_fucntions.html#id21">~Character()</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Generic_Programming.html">Generic programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="Templates.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="Standard_Template_Classes.html">Standard Template Library (STL) Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Standard_Template_Classes.html#vectors">Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="Standard_Template_Classes.html#lists">Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="Standard_Template_Classes.html#maps">Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="Standard_Template_Classes.html#sets">Sets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Recursion.html">Recursion</a></li>
<li class="toctree-l1"><a class="reference internal" href="Quicksort.html">Quicksort</a></li>
<li class="toctree-l1"><a class="reference internal" href="Big-O.html">Algorithm Comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="HashTables.html">Hash Tables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="HashTables.html#closed-hash-table">Closed Hash Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="HashTables.html#open-hash-table">Open Hash Table</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="BinaryTrees.html">Binary Trees</a><ul>
<li class="toctree-l2"><a class="reference internal" href="BinaryTrees.html#traversals">Traversals</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="BinarySearchTrees.html">Binary Search Trees (BST)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unordered_map.html">Unordered map</a></li>
<li class="toctree-l1"><a class="reference internal" href="Heap.html">Heap</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Heap.html#extracting-the-biggest-item-from-a-maxheap-smallest-item-from-a-minheap">Extracting the biggest item from a maxheap (smallest item from a minheap)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Heap.html#adding-a-node-to-a-maxheap-minheap-reheapification">Adding a node to a maxheap/minheap (reheapification)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Priority_queue.html">Priority queue</a></li>
<li class="toctree-l1"><a class="reference internal" href="Heapsort.html">Heapsort</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Heapsort.html#step-1">Step 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="Heapsort.html#step-2">Step 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Tables.html">Tables</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">decipher</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Class composition</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/doc/Class_composition.rst.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="class-composition">
<h1>Class composition<a class="headerlink" href="#class-composition" title="Permalink to this headline">¶</a></h1>
<p>Class composition is when a class has one or more member variables that are objects, aka variables that are of type class.
This includes strings (string is a class).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Scientist</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
   <span class="n">Book</span> <span class="n">b</span><span class="p">;</span>
   <span class="n">TV</span> <span class="n">s</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">numComicBooks</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Why do we care about this? When you have member variables that are objects, they have their own constructors. But when and how are their constructors called? Luckily, when you have non-scalar variables, C++ automatically calls their (default) constructors. This happens before the main class’ constructor runs, because you may be using the member variables in it, and those objects need to be constructed.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Scientist</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
   <span class="n">Scientist</span><span class="p">()</span>
<span class="c1">// b&#39;s constructor called here by the compiler</span>
<span class="c1">// s&#39;s constructor called here by the compiler</span>
   <span class="p">{</span>
         <span class="n">b</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
         <span class="n">s</span><span class="p">.</span><span class="n">watch</span><span class="p">();</span>
         <span class="n">numComicBooks</span> <span class="o">=</span> <span class="mi">67</span><span class="p">;</span>
   <span class="p">}</span>
<span class="k">private</span><span class="o">:</span>
   <span class="n">Book</span> <span class="n">b</span><span class="p">;</span>
   <span class="n">TV</span> <span class="n">s</span><span class="p">;</span>
   <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">numComicBooks</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Book</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Book</span><span class="p">()</span>
    <span class="p">{</span>
          <span class="n">pages</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">TV</span>
<span class="p">{</span>
<span class="k">public</span>
    <span class="n">TV</span><span class="p">()</span>
    <span class="p">{</span>
           <span class="n">show</span> <span class="o">=</span> <span class="s">&quot;Star Trek&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the objects’ constructors are called in the order in which they appear in the class definition.
What about the destructor? Since the destructor is allowed to use member variables, you can’t destruct any member variables objects until after the destructor finishes, meaning they get destructed after the class itself.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span>Scientist::~Scientist()
{
   ......
}   // class destructed after this brace
// s destructed here
// b destructed here

Note that the objects&#39; destructors are called in reverse order from the order in which they appear in the class definition.
But remember, this automatic constructor/destructor calling ONLY happens with non-scalar member variables. If you have scalar member variables, like ints, bools, doubles, etc., you have to initialize them. So if you want to use, for example, a number of comic books variable without initializing it in the constructor, you&#39;ll get random values!

If you have  an even more complicated class composition, i.e. a class&#39; object member variable also has a member variable that is an object, the object &quot;deepest in&quot; will be constructed first and destructed last. Here is a simple example.

int main()
{
    Person sheldon;   // #1, sheldon will be constructed...
}
class Person
{
   Person()   // #2, but sc must first be constructed
    {}              // #6, sheldon can now be constructed!
   ~Person()
    {}
  Scientist sc;
}
class Scientist
{
   Scientist()    // #3, but ph must first be constructed
    {}                // #5, sc can now be constructed!
   ~Scientist()
    {}
   Physicist ph;
}
class Physicist
{
   Physicist()  // #4, ph is constructed!
   {}
   ~Physicist()
   {}
}
</pre></div>
</div>
<p>Here is is again but for destructors:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
    <span class="n">Person</span> <span class="n">sheldon</span><span class="p">;</span>
<span class="p">}</span>  <span class="c1">// #1, function finished, now sheldon needs to be destructed...</span>

<span class="k">class</span> <span class="nc">Person</span>
<span class="p">{</span>
   <span class="n">Person</span><span class="p">()</span>
    <span class="p">{}</span>
   <span class="o">~</span><span class="n">Person</span><span class="p">()</span>
    <span class="p">{}</span>              <span class="c1">// #2, sheldon is destructed. #3, but now sc must be destructed</span>
  <span class="n">Scientist</span> <span class="n">sc</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Scientist</span>
<span class="p">{</span>
   <span class="n">Scientist</span><span class="p">()</span>
    <span class="p">{}</span>
   <span class="o">~</span><span class="n">Scientist</span><span class="p">()</span>
    <span class="p">{}</span>              <span class="c1">// #4, sc is destructed. #5, but now ph must be destructed</span>
   <span class="n">Physicist</span> <span class="n">ph</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Physicist</span>
<span class="p">{</span>
   <span class="n">Physicist</span><span class="p">()</span>
   <span class="p">{}</span>
   <span class="o">~</span><span class="n">Physicist</span><span class="p">()</span>
   <span class="p">{}</span>              <span class="c1">// #6, ph is destructed.</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Okay, so now it appears everything works.
But what if one of your objects only has one constructor and it requires a parameter?
How do you pass them in? C++’s automatic calling won’t work now because you have to tell it what values you want to be passed.
You do this by creating an initializer list.
An initializer list consists of the name(s) of the object(s) and its/their parameter(s), put after the constructor name.
After the constuctor’s name is a colon and the objects are separated by commas.
Don’t put a semicolon or anything else after the list!</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Scientist</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
   <span class="n">Scientist</span><span class="p">()</span> <span class="o">:</span> <span class="n">b</span><span class="p">(</span><span class="s">&quot;Theory of Everything&quot;</span><span class="p">),</span> <span class="n">s</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
   <span class="p">{</span>
         <span class="n">b</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
         <span class="n">s</span><span class="p">.</span><span class="n">watch</span><span class="p">();</span>
         <span class="n">numComicBooks</span> <span class="o">=</span> <span class="mi">67</span><span class="p">;</span>
   <span class="p">}</span>
<span class="k">private</span><span class="o">:</span>
   <span class="n">Book</span> <span class="n">b</span><span class="p">;</span>
   <span class="n">TV</span> <span class="n">s</span><span class="p">;</span>
   <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">numComicBooks</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Book</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
    <span class="n">Book</span><span class="p">(</span><span class="n">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
          <span class="n">title</span> <span class="o">=</span> <span class="n">name</span><span class="p">;</span>
          <span class="n">pages</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">TV</span>
<span class="p">{</span>
<span class="k">public</span>
    <span class="n">TV</span><span class="p">(</span><span class="kt">int</span> <span class="n">favSeason</span><span class="p">)</span>
    <span class="p">{</span>
           <span class="n">show</span> <span class="o">=</span> <span class="s">&quot;Star Trek&quot;</span><span class="p">;</span>
           <span class="n">season</span> <span class="o">=</span> <span class="n">favSeason</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The initializer list should only be included in the place where you define the function, whether that be in the class or outside of it.</p>
<p>INSIDE THE CLASS:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Scientist</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
   <span class="n">Scientist</span><span class="p">()</span> <span class="o">:</span> <span class="n">b</span><span class="p">(</span><span class="s">&quot;Theory of Everything&quot;</span><span class="p">),</span> <span class="n">s</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
   <span class="p">{</span>
         <span class="n">b</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
         <span class="n">s</span><span class="p">.</span><span class="n">watch</span><span class="p">();</span>
   <span class="p">}</span>
<span class="k">private</span><span class="o">:</span>
   <span class="n">Book</span> <span class="n">b</span><span class="p">;</span>
   <span class="n">TV</span> <span class="n">s</span><span class="p">;</span>
   <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">numComicBooks</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>OUTSIDE THE CLASS:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Scientist</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
   <span class="n">Scientist</span><span class="p">();</span>   <span class="c1">// NO initializer list here</span>
<span class="k">private</span><span class="o">:</span>
   <span class="n">Book</span> <span class="n">b</span><span class="p">;</span>
   <span class="n">TV</span> <span class="n">s</span><span class="p">;</span>
   <span class="n">string</span> <span class="n">name</span><span class="p">;</span>
   <span class="kt">int</span> <span class="n">numComicBooks</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">Scientist</span><span class="o">::</span><span class="n">Scientist</span><span class="p">()</span> <span class="o">:</span> <span class="n">b</span><span class="p">(</span><span class="s">&quot;Theory of Everything&quot;</span><span class="p">),</span> <span class="n">s</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
   <span class="p">{</span>
         <span class="n">b</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
         <span class="n">s</span><span class="p">.</span><span class="n">watch</span><span class="p">();</span>
   <span class="p">}</span>
</pre></div>
</div>
<p>You can also initialize scalar member variables in the initializer list if you wish.
The parameters don’t even have to be constant.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">Scientist</span><span class="o">::</span><span class="n">Scientist</span><span class="p">()</span> <span class="o">:</span> <span class="n">b</span><span class="p">(</span><span class="s">&quot;Theory of Everything&quot;</span><span class="p">),</span> <span class="n">s</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">numComicBooks</span><span class="p">(</span><span class="mi">67</span><span class="p">)</span>
   <span class="p">{</span>
         <span class="n">b</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
         <span class="n">s</span><span class="p">.</span><span class="n">watch</span><span class="p">();</span>
   <span class="p">}</span>
</pre></div>
</div>
<p>And you don’t have to worry about your non-scalar member variables being initialized;
C++ will still automatically do initialize them, regardless of whether or not you have an initializer list.</p>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Headers.html" class="btn btn-neutral float-right" title="Header Files">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Linked_lists.html" class="btn btn-neutral" title="Linked Lists"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, neda vesselinova.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>